{"version":3,"sources":["justgiving-apiclient.js"],"names":[],"mappings":"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","file":"justgiving-apiclient.js","sourcesContent":["/*\r\n * Class QueryString - a handler for query parameters\r\n */\r\nclass QueryString {\r\n  constructor(conf) {\r\n    this.text = '';\r\n    for (let prop in conf) {\r\n      if (conf.hasOwnProperty(prop) && conf[prop]) {\r\n        this.text += (this.text.length === 0) ? '?' : '&';\r\n        this.text += encodeURIComponent(prop) + '=' + encodeURIComponent(conf[prop]);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/*\r\n * Class ApiClient, main class of the SDK\r\n */\r\nexport class ApiClient {\r\n  constructor(url, appId, accessToken) {\r\n    if (typeof url !== 'string') throw new Error('URL is required');\r\n    if (url.indexOf('https') !== 0) throw new Error('Please use https only');\r\n    this._url = url;\r\n    this._appId = appId;\r\n    this._accessToken = accessToken;\r\n    this._version = 'v1';\r\n  }\r\n\r\n  _getOptions(payload, method) {\r\n    const options = { method: method || 'GET', headers: { 'x-app-id': this._appId, Accept: 'application/json' } };\r\n    if (this._accessToken) {\r\n      options.headers['Authorization'] = this._accessToken;\r\n    }\r\n    if (payload || method === 'POST') {\r\n      options.method = method || 'POST';\r\n      options.body = JSON.stringify(payload);\r\n      options.headers['Content-Type'] = 'application/json';\r\n    }\r\n    return options;\r\n  }\r\n\r\n  _handleResponse(response) {\r\n    if (response.status >= 400) {\r\n      const contentType = response.headers.get('content-type');\r\n\r\n      if (contentType && contentType.indexOf('application/json') === 0) {\r\n        return response.json().then(json => {\r\n          if (json[0]) {\r\n            throw new Error(`${response.status} ${response.statusText}. ${json[0].id} : ${json[0].desc}`);\r\n          }\r\n        });\r\n      }\r\n\r\n      throw new Error(`${response.status} ${response.statusText}`);\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  _fetch(resource, payload, method) {\r\n    return fetch(`${this._url}/${this._version}/${resource}`, this._getOptions(payload, method)).then(this._handleResponse);\r\n  }\r\n\r\n  // Account resource\r\n  validateAccount(email, password) {\r\n    return this._fetch('account/validate', { email: email, password: password });\r\n  }\r\n\r\n  getFundraisingPagesForUser(email, charityId) {\r\n    const queryString = new QueryString({\r\n      charityId: charityId\r\n    });\r\n\r\n    return this._fetch(`account/${email}/pages${queryString.text}`);\r\n  }\r\n\r\n  getDonationsForUser(pageSize, pageNum, charityId) {\r\n    const queryString = new QueryString({\r\n      charityId: charityId,\r\n      pageSize: pageSize,\r\n      pageNum: pageNum\r\n    });\r\n\r\n    return this._fetch(`account/donations${queryString.text}`);\r\n  }\r\n\r\n  checkAccountAvailability(email) {\r\n    return this._fetch(`account/${encodeURIComponent(email) }`);\r\n  }\r\n\r\n  getContentFeed() {\r\n    return this._fetch('account/feed');\r\n  }\r\n\r\n  getAccountRating(pageSize, pageNum) {\r\n    const queryString = new QueryString({\r\n      pageSize: pageSize,\r\n      page: pageNum\r\n    });\r\n\r\n    return this._fetch(`account/rating${queryString.text}`);\r\n  }\r\n\r\n  getAccount() {\r\n    return this._fetch('account');\r\n  }\r\n\r\n  getInterests() {\r\n    return this._fetch('account/interest');\r\n  }\r\n\r\n  addInterest(interest) {\r\n    return this._fetch('account/interest', { interest: interest });\r\n  }\r\n\r\n  replaceInterests(...interests) {\r\n    return this._fetch('account/interest', interests, 'PUT');\r\n  }\r\n\r\n  requestPasswordReminder(email) {\r\n    return this._fetch(`account/${encodeURIComponent(email) }/requestpasswordreminder`);\r\n  }\r\n\r\n  changePassword(email, currentPassword, newPassword) {\r\n    if (!email || !currentPassword || !newPassword) throw new Error('All parameters are required');\r\n\r\n    const queryString = new QueryString({\r\n      emailaddress: email,\r\n      currentpassword: currentPassword,\r\n      newpassword: newPassword\r\n    });\r\n\r\n    return this._fetch(`account/changePassword${queryString.text}`, undefined, 'POST');\r\n  }\r\n\r\n  // Countries resource\r\n  getCountries() {\r\n    return this._fetch('countries');\r\n  }\r\n\r\n  // Currency resource\r\n  getCurrencies() {\r\n    return this._fetch('fundraising/currencies');\r\n  }\r\n\r\n  // Charity resource\r\n  getCharityCategories() {\r\n    return this._fetch('charity/categories');\r\n  }\r\n\r\n  getCharity(charityId) {\r\n    return this._fetch(`charity/${charityId}`);\r\n  }\r\n\r\n  getEventsByCharity(charityId, pageSize, pageNum) {\r\n    const queryString = new QueryString({\r\n      pageSize: pageSize,\r\n      pageNum: pageNum\r\n    });\r\n    return this._fetch(`charity/${charityId}/events${queryString.text}`);\r\n  }\r\n\r\n  // Donation resource\r\n  getDonation(donationId) {\r\n    return this._fetch(`donation/${donationId}`);\r\n  }\r\n\r\n  getDonationByReference(thirdPartyReference) {\r\n    return this._fetch(`donation/ref/${encodeURIComponent(thirdPartyReference) }`);\r\n  }\r\n\r\n  getDonationStatus(donationId) {\r\n    return this._fetch(`donation/${donationId}/status`);\r\n  }\r\n\r\n  // Event resource\r\n  getEvent(eventId) {\r\n    return this._fetch(`event/${eventId}`);\r\n  }\r\n\r\n  getEventPages(eventId, pageSize, pageNum) {\r\n    const queryString = new QueryString({\r\n      page: pageNum,\r\n      pageSize: pageSize\r\n    });\r\n    return this._fetch(`event/${eventId}/pages${queryString.text}`);\r\n  }\r\n\r\n  registerEvent(eventDetails) {\r\n    return this._fetch('event', eventDetails);\r\n  }\r\n\r\n  // Fundraising resource\r\n  getFundraisingPages() {\r\n    return this._fetch('fundraising/pages');\r\n  }\r\n\r\n  getFundraisingPage(pageShortName) {\r\n    return this._fetch(`fundraising/pages/${encodeURIComponent(pageShortName) }`);\r\n  }\r\n\r\n  suggestPageShortName(preferredName) {\r\n    const queryString = new QueryString({\r\n      preferredName: preferredName\r\n    });\r\n\r\n    return this._fetch(`fundraising/pages/suggest${queryString.text}`);\r\n  }\r\n\r\n  checkPageExists(pageShortName) {\r\n    return this._fetch(`fundraising/pages/${pageShortName}`, undefined, 'HEAD');\r\n  }\r\n\r\n  cancelFundraisingPage(pageShortName) {\r\n    return this._fetch(`fundraising/pages/${pageShortName}`, undefined, 'DELETE');\r\n  }\r\n\r\n  addFundraisingPageImage(pageShortName, caption, url, isDefault) {\r\n    return this._fetch(`fundraising/pages/${pageShortName}/images`, { caption: caption, isDefault: !!isDefault, url: url }, 'PUT');\r\n  }\r\n\r\n  // Project resource\r\n  getProject(projectId) {\r\n    return this._fetch(`project/global/${projectId}`);\r\n  }\r\n\r\n  // Search resource\r\n  searchCharities(searchTerm, charityId, categoryId, pageNum, pageSize) {\r\n    const charityIdRestriction = charityId.length ? charityId.map(id => `charityId=${id}&`).join('') : `charityId=${charityId}&`;\r\n    const categoryIdRestriction = categoryId.length ? categoryId.map(id => `categoryId=${id}&`).join('') : `categoryId=${categoryId}&`;\r\n\r\n    const queryString = new QueryString({\r\n      q: searchTerm,\r\n      page: pageNum,\r\n      pageSize: pageSize\r\n    });\r\n\r\n    return this._fetch(`charity/search${queryString.text}&${categoryIdRestriction}${charityIdRestriction}`);\r\n  }\r\n\r\n  searchEvents(searchTerm, pageNum, pageSize) {\r\n    const queryString = new QueryString({\r\n      q: searchTerm,\r\n      page: pageNum,\r\n      pageSize: pageSize\r\n    });\r\n\r\n    return this._fetch(`event/search${queryString.text}`);\r\n  }\r\n\r\n  // OneSearch\r\n  oneSearch(searchTerm, group, index, limit, offset, country) {\r\n    const queryString = new QueryString({\r\n      limit: limit,\r\n      offset: offset,\r\n      q: searchTerm,\r\n      g: group,\r\n      i: index,\r\n      country: country\r\n    });\r\n\r\n    return this._fetch(`onesearch${queryString.text}`);\r\n  }\r\n\r\n  // Team resource\r\n  getTeam(shortName) {\r\n    return this._fetch(`team/${encodeURIComponent(shortName) }`);\r\n  }\r\n\r\n  checkTeamExists(shortName) {\r\n    return this._fetch(`team/${encodeURIComponent(shortName) }`, undefined, 'HEAD');\r\n  }\r\n\r\n  createOrUpdateTeam(shortName, details) {\r\n    return this._fetch(`team/${encodeURIComponent(shortName) }`, details, 'PUT');\r\n  }\r\n\r\n  joinTeam(teamShortName, pageShortName) {\r\n    return this._fetch(`team/join/${encodeURIComponent(teamShortName) }`, { pageShortName: pageShortName }, 'PUT');\r\n  }\r\n}\r\n"],"sourceRoot":"/source/"}