/**
 * justgiving-apiclient - JustGiving API Client
 * @version v0.5.8
 * @link https://api.justgiving.com/
 * @license Apache-2.0
 */
!function(t,e){if("function"==typeof define&&define.amd)define("JustGiving",["exports"],e);else if("undefined"!=typeof exports)e(exports);else{var n={exports:{}};e(n.exports),t.JustGiving=n.exports}}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function o(t){e(this,o),this.text="";for(var n in t)t.hasOwnProperty(n)&&t[n]&&(this.text+=0===this.text.length?"?":"&",this.text+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]))},r=function(){function t(n,r,o){if(e(this,t),"string"!=typeof n)throw new Error("URL is required");if(0!==n.indexOf("https"))throw new Error("Please use https only");this._url=n,this._appId=r,this._accessToken=o,this._version="v1"}return t.prototype._getOptions=function(t,e){var n={method:e||"GET",headers:{"x-app-id":this._appId,Accept:"application/json"}};return this._accessToken&&(n.headers.Authorization=this._accessToken),(t||"POST"===e)&&(n.method=e||"POST",n.body=JSON.stringify(t),n.headers["Content-Type"]="application/json"),n},t.prototype._handleResponse=function(t){if(t.status>=400){var e=t.headers.get("content-type");if(e&&0===e.indexOf("application/json"))return t.json().then(function(e){if(e[0])throw new Error(t.status+" "+t.statusText+". "+e[0].id+" : "+e[0].desc)});throw new Error(t.status+" "+t.statusText)}return t.json()},t.prototype._fetch=function(t,e,n){return fetch(this._url+"/"+this._version+"/"+t,this._getOptions(e,n)).then(this._handleResponse)},t.prototype.validateAccount=function(t,e){return this._fetch("account/validate",{email:t,password:e})},t.prototype.getFundraisingPagesForUser=function(t,e){var r=new n({charityId:e});return this._fetch("account/"+t+"/pages"+r.text)},t.prototype.getDonationsForUser=function(t,e,r){var o=new n({charityId:r,pageSize:t,pageNum:e});return this._fetch("account/donations"+o.text)},t.prototype.checkAccountAvailability=function(t){return this._fetch("account/"+encodeURIComponent(t))},t.prototype.getContentFeed=function(){return this._fetch("account/feed")},t.prototype.getAccountRating=function(t,e){var r=new n({pageSize:t,page:e});return this._fetch("account/rating"+r.text)},t.prototype.getAccount=function(){return this._fetch("account")},t.prototype.getInterests=function(){return this._fetch("account/interest")},t.prototype.addInterest=function(t){return this._fetch("account/interest",{interest:t})},t.prototype.replaceInterests=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return this._fetch("account/interest",e,"PUT")},t.prototype.requestPasswordReminder=function(t){return this._fetch("account/"+encodeURIComponent(t)+"/requestpasswordreminder")},t.prototype.changePassword=function(t,e,r){if(!t||!e||!r)throw new Error("All parameters are required");var o=new n({emailaddress:t,currentpassword:e,newpassword:r});return this._fetch("account/changePassword"+o.text,void 0,"POST")},t.prototype.getCountries=function(){return this._fetch("countries")},t.prototype.getCurrencies=function(){return this._fetch("fundraising/currencies")},t.prototype.getCharityCategories=function(){return this._fetch("charity/categories")},t.prototype.getCharity=function(t){return this._fetch("charity/"+t)},t.prototype.getEventsByCharity=function(t,e,r){var o=new n({pageSize:e,pageNum:r});return this._fetch("charity/"+t+"/events"+o.text)},t.prototype.getDonation=function(t){return this._fetch("donation/"+t)},t.prototype.getDonationByReference=function(t){return this._fetch("donation/ref/"+encodeURIComponent(t))},t.prototype.getDonationStatus=function(t){return this._fetch("donation/"+t+"/status")},t.prototype.getEvent=function(t){return this._fetch("event/"+t)},t.prototype.getEventPages=function(t,e,r){var o=new n({page:r,pageSize:e});return this._fetch("event/"+t+"/pages"+o.text)},t.prototype.registerEvent=function(t){return this._fetch("event",t)},t.prototype.registerFundraisingPage=function(t){return this._fetch("fundraising/pages/",t,"PUT")},t.prototype.getFundraisingPages=function(){return this._fetch("fundraising/pages")},t.prototype.getFundraisingPage=function(t){return this._fetch("fundraising/pages/"+encodeURIComponent(t))},t.prototype.suggestPageShortName=function(t){var e=new n({preferredName:t});return this._fetch("fundraising/pages/suggest"+e.text)},t.prototype.checkPageExists=function(t){return this._fetch("fundraising/pages/"+t,void 0,"HEAD")},t.prototype.cancelFundraisingPage=function(t){return this._fetch("fundraising/pages/"+t,void 0,"DELETE")},t.prototype.addFundraisingPageImage=function(t,e,n,r){return this._fetch("fundraising/pages/"+t+"/images",{caption:e,isDefault:!!r,url:n},"PUT")},t.prototype.getProject=function(t){return this._fetch("project/global/"+t)},t.prototype.searchEvents=function(t,e,r){var o=new n({q:t,page:e,pageSize:r});return this._fetch("event/search"+o.text)},t.prototype.oneSearch=function(t,e,r,o,i,s){var a=new n({limit:o,offset:i,q:t,g:e,i:r,country:s});return this._fetch("onesearch"+a.text)},t.prototype.searchInMemory=function(t,e,r,o){var i=new n({firstName:t,lastName:e,page:r,pageSize:o});return this._fetch("remember/search"+i.text)},t.prototype.getTeam=function(t){return this._fetch("team/"+encodeURIComponent(t))},t.prototype.checkTeamExists=function(t){return this._fetch("team/"+encodeURIComponent(t),void 0,"HEAD")},t.prototype.createOrUpdateTeam=function(t,e){return this._fetch("team/"+encodeURIComponent(t),e,"PUT")},t.prototype.joinTeam=function(t,e){return this._fetch("team/join/"+encodeURIComponent(t),{pageShortName:e},"PUT")},t}();t.ApiClient=r});